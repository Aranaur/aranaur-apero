<!DOCTYPE html>
<html lang="en"><head>
<script src="02-2_files/libs/clipboard/clipboard.min.js"></script>
<script src="02-2_files/libs/quarto-html/tabby.min.js"></script>
<script src="02-2_files/libs/quarto-html/popper.min.js"></script>
<script src="02-2_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="02-2_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="02-2_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="02-2_files/libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.0.36">

  <meta name="author" content="Ігор Мірошниченко">
  <title>02.1 - Маніпуляції з даними</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="02-2_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="02-2_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
      }
    pre.numberSource { margin-left: 3em;  padding-left: 4px; }
    div.sourceCode
      { color: #e1e4e8; background-color: #24292e; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #e1e4e8; } /* Normal */
    code span.al { color: #ff5555; font-weight: bold; } /* Alert */
    code span.an { color: #6a737d; } /* Annotation */
    code span.at { color: #f97583; } /* Attribute */
    code span.bn { color: #79b8ff; } /* BaseN */
    code span.bu { color: #f97583; } /* BuiltIn */
    code span.cf { color: #f97583; } /* ControlFlow */
    code span.ch { color: #9ecbff; } /* Char */
    code span.cn { color: #79b8ff; } /* Constant */
    code span.co { color: #6a737d; } /* Comment */
    code span.cv { color: #6a737d; } /* CommentVar */
    code span.do { color: #6a737d; } /* Documentation */
    code span.dt { color: #f97583; } /* DataType */
    code span.dv { color: #79b8ff; } /* DecVal */
    code span.er { color: #ff5555; text-decoration: underline; } /* Error */
    code span.ex { color: #f97583; font-weight: bold; } /* Extension */
    code span.fl { color: #79b8ff; } /* Float */
    code span.fu { color: #b392f0; } /* Function */
    code span.im { color: #9ecbff; } /* Import */
    code span.in { color: #6a737d; } /* Information */
    code span.kw { color: #f97583; } /* Keyword */
    code span.op { color: #e1e4e8; } /* Operator */
    code span.ot { color: #b392f0; } /* Other */
    code span.pp { color: #f97583; } /* Preprocessor */
    code span.re { color: #6a737d; } /* RegionMarker */
    code span.sc { color: #79b8ff; } /* SpecialChar */
    code span.ss { color: #9ecbff; } /* SpecialString */
    code span.st { color: #9ecbff; } /* String */
    code span.va { color: #ffab70; } /* Variable */
    code span.vs { color: #9ecbff; } /* VerbatimString */
    code span.wa { color: #ff5555; } /* Warning */
  </style>
  <link rel="stylesheet" href="02-2_files/libs/revealjs/dist/theme/quarto.css" id="theme">
  <link href="02-2_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="02-2_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="02-2_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="02-2_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="02-2_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="02-2_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-dark">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="center">
  <h1 class="title">02.1 - Маніпуляції з даними</h1>
  <p class="subtitle">Прогнозування часових рядів</p>
  <p class="author">Ігор Мірошниченко</p>
  <p class="institute">КНЕУ::ІІТЕ</p>
  <p class="date">оновлено: 2022-09-18</p>
</section>
<section id="TOC">
<nav role="doc-toc"> 
<h2 id="toc-title">ЗМІСТ</h2>
<ul>
<li><a href="#/tidy-всесвіт" id="/toc-tidy-всесвіт">Tidy-всесвіт</a></li>
<li><a href="#/завантаження-даних" id="/toc-завантаження-даних">Завантаження даних</a></li>
<li><a href="#/маніпуляції-з-даними" id="/toc-маніпуляції-з-даними">Маніпуляції з даними</a></li>
</ul>
</nav>
</section>

<section>
<section id="tidy-всесвіт" class="title-slide slide level1 center">
<h1>Tidy-всесвіт</h1>

</section>
<section id="tidyverse" class="slide level2">
<h2>Tidyverse</h2>
<p><a href="https://www.tidyverse.org/"><strong>Tidyverse</strong></a> — це екосистема, набір пакетів, які спеціально створені для науки про дані (data science). В ньому є ключові пакети (ядро tidyverse) та побічні — які додатково розширюють можливості мови програмування R.</p>
<p><strong>Концепція охайних даних (tidy-data)</strong> передбачає приведення даних до формату, в якому:</p>
<ul>
<li><p>Кожна змінна міститься в окремому стовпчику</p></li>
<li><p>Кожне спостереження міститься в окремому рядку</p></li>
<li><p>Кожне значення міститься в окремій комірці</p></li>
</ul>
</section>
<section id="ядро-tidyverse" class="slide level2">
<h2>Ядро <code>tidyverse</code></h2>
<ul>
<li><p><code>ggplot2</code>, для візуалізації</p></li>
<li><p><code>dplyr</code>, для маніпуляції з даними</p></li>
<li><p><code>tidyr</code>, для отримання охайних даних (tidy data)</p></li>
<li><p><code>readr</code>, для зчитування та записування файлів в R</p></li>
<li><p><code>purrr</code>, для функціонального програмування</p></li>
<li><p><code>tibble</code>, для роботи з тібблами (tibble), просунутий варіант дата фреймів</p></li>
<li><p><code>stringr</code>, для роботи з текстовими даними</p></li>
<li><p><code>forcats</code>, для роботи з факторами (factors)</p></li>
</ul>
</section>
<section id="ядро-tidyverse-1" class="slide level2">
<h2>Ядро <code>tidyverse</code></h2>
<p>Для завантаження tidyverse необхідно виконати наступний код:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">install.packages</span>(<span class="st">"tidyverse"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Для підключення:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="fu">library</span>(<span class="st">"tidyverse"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="tibble" class="slide level2">
<h2><code>tibble</code></h2>
<p>Концепція “охайних” даних передбачає альтернативу класичним <code>data.frame</code> у вигляді тібблів (<code>tibble</code>). Давайте розеберемо основі відмінності. В мові програмування R є вбудований популярний датасет <code>iris</code>. Він зберігається в форматі дата фрейму.</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="co"># Переглянемо перші декілька значень</span></span>
<span id="cb3-2"><a href="#cb3-2"></a><span class="fu">head</span>(iris, <span class="at">n=</span><span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Sepal.Length Sepal.Width Petal.Length Petal.Width Species
1          5.1         3.5          1.4         0.2  setosa
2          4.9         3.0          1.4         0.2  setosa
3          4.7         3.2          1.3         0.2  setosa</code></pre>
</div>
</div>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>iris_tbl <span class="ot">&lt;-</span> <span class="fu">as_tibble</span>(iris)</span>
<span id="cb5-2"><a href="#cb5-2"></a>iris_tbl</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 150 x 5
   Sepal.Length Sepal.Width Petal.Length Petal.Width Species
          &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;  
 1          5.1         3.5          1.4         0.2 setosa 
 2          4.9         3            1.4         0.2 setosa 
 3          4.7         3.2          1.3         0.2 setosa 
 4          4.6         3.1          1.5         0.2 setosa 
 5          5           3.6          1.4         0.2 setosa 
 6          5.4         3.9          1.7         0.4 setosa 
 7          4.6         3.4          1.4         0.3 setosa 
 8          5           3.4          1.5         0.2 setosa 
 9          4.4         2.9          1.4         0.2 setosa 
10          4.9         3.1          1.5         0.1 setosa 
# ... with 140 more rows</code></pre>
</div>
</div>
</section></section>
<section>
<section id="завантаження-даних" class="title-slide slide level1 center">
<h1>Завантаження даних</h1>

</section>
<section id="завантаження-.csv-.tsv-файлів" class="slide level2">
<h2>Завантаження <code>.csv</code>, <code>.tsv</code> файлів</h2>
<p>Стандартною функцією завантаження даних типу <code>.csv</code> є функція <code>read.csv()</code>, але на досить великих масивах даних краще використовувати <code>read_csv()</code> з пакету <code>readr</code>. Синтаксис цих функцій схожий, але <code>read_csv()</code> одразу приведе дані до формату <code>tibble</code>. Першим аргументом функції є шлях до файлу (із оберненим слешем <code>/</code>). Також можна використовувати прямі URL-посилання на файл:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>read_file <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"docs/data/file.csv"</span>)</span>
<span id="cb7-2"><a href="#cb7-2"></a>read_url <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">"https://git.io/JztOr"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="завантаження-.xls-.xlsx-файлів" class="slide level2">
<h2>Завантаження <code>.xls</code>, <code>.xlsx</code> файлів</h2>
<p>Для завантаження файлів <strong>Excel</strong> використовується пакет <code>readxl</code> та функція <code>read_excel()</code>. На початку можна отримати перелік листів файлу Excel за допомогою функції <code>excel_sheets()</code></p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>readxl<span class="sc">::</span><span class="fu">excel_sheets</span>(<span class="st">"data/tourism.xlsx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Sheet1" "Sheet2" "Sheet3"</code></pre>
</div>
</div>
<p>Після чого зчитати данні з потрібного листа</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a>excel_file <span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/tourism.xlsx"</span>, <span class="at">sheet =</span> <span class="st">"Sheet1"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section>
<section>
<section id="маніпуляції-з-даними" class="title-slide slide level1 center">
<h1>Маніпуляції з даними</h1>

</section>
<section id="dplyr" class="slide level2">
<h2><code>dplyr</code></h2>
<p><code>dplyr</code> - це граматика маніпуляції з даними, яка має низку функцій, які допоможуть легко та зручно маніпулювати даними, наприклад:</p>
<ul>
<li><p>створювати нові змінні</p></li>
<li><p>сортувати дані</p></li>
<li><p>проводити фільтрацію даних</p></li>
<li><p>агрегування даних і багато іншого.</p></li>
</ul>
</section>
<section id="dplyr-1" class="slide level2">
<h2><code>dplyr</code></h2>
<p>В якості прикладу роботи з пакетом dplyr пропоную використати датасет <code>gapminder</code> з однойменного пакету. В ньому збережена інформація про ВВП, очікувану тривалість життя при народженні та населення для 142 країн світу з 1952 по 2007 роки.</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="co"># Підключаємо пакет (не забудьте його встановити) та подивимось на датасет</span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="fu">library</span>(gapminder)</span>
<span id="cb11-3"><a href="#cb11-3"></a>gapminder</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 x 6
   country     continent  year lifeExp      pop gdpPercap
   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
 1 Afghanistan Asia       1952    28.8  8425333      779.
 2 Afghanistan Asia       1957    30.3  9240934      821.
 3 Afghanistan Asia       1962    32.0 10267083      853.
 4 Afghanistan Asia       1967    34.0 11537966      836.
 5 Afghanistan Asia       1972    36.1 13079460      740.
 6 Afghanistan Asia       1977    38.4 14880372      786.
 7 Afghanistan Asia       1982    39.9 12881816      978.
 8 Afghanistan Asia       1987    40.8 13867957      852.
 9 Afghanistan Asia       1992    41.7 16317921      649.
10 Afghanistan Asia       1997    41.8 22227415      635.
# ... with 1,694 more rows</code></pre>
</div>
</div>
<p>Видно, що змінні <code>country</code> та <code>continent</code> — це фактори, а всі інші — числові.</p>
</section>
<section id="glimpse" class="slide level2">
<h2><code>glimpse()</code></h2>
<p>Для перегляду структури тібблу використовується функція <code>glimpse()</code>:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a><span class="fu">glimpse</span>(gapminder)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 1,704
Columns: 6
$ country   &lt;fct&gt; "Afghanistan", "Afghanistan", "Afghanistan", "Afghanistan", ~
$ continent &lt;fct&gt; Asia, Asia, Asia, Asia, Asia, Asia, Asia, Asia, Asia, Asia, ~
$ year      &lt;int&gt; 1952, 1957, 1962, 1967, 1972, 1977, 1982, 1987, 1992, 1997, ~
$ lifeExp   &lt;dbl&gt; 28.801, 30.332, 31.997, 34.020, 36.088, 38.438, 39.854, 40.8~
$ pop       &lt;int&gt; 8425333, 9240934, 10267083, 11537966, 13079460, 14880372, 12~
$ gdpPercap &lt;dbl&gt; 779.4453, 820.8530, 853.1007, 836.1971, 739.9811, 786.1134, ~</code></pre>
</div>
</div>
<p>Це альтернатива базовій функції <code>str()</code> для дата фреймів.</p>
</section>
<section id="filter" class="slide level2">
<h2><code>filter()</code></h2>
<p>Для фільтрації спостережень за певною умовою використовується функція <code>filter()</code>. Для прикладу відфільтруємо дані для Ірландії:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a><span class="fu">filter</span>(gapminder, country <span class="sc">==</span> <span class="st">"Ireland"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 x 6
   country continent  year lifeExp     pop gdpPercap
   &lt;fct&gt;   &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;     &lt;dbl&gt;
 1 Ireland Europe     1952    66.9 2952156     5210.
 2 Ireland Europe     1957    68.9 2878220     5599.
 3 Ireland Europe     1962    70.3 2830000     6632.
 4 Ireland Europe     1967    71.1 2900100     7656.
 5 Ireland Europe     1972    71.3 3024400     9531.
 6 Ireland Europe     1977    72.0 3271900    11151.
 7 Ireland Europe     1982    73.1 3480000    12618.
 8 Ireland Europe     1987    74.4 3539900    13873.
 9 Ireland Europe     1992    75.5 3557761    17559.
10 Ireland Europe     1997    76.1 3667233    24522.
11 Ireland Europe     2002    77.8 3879155    34077.
12 Ireland Europe     2007    78.9 4109086    40676.</code></pre>
</div>
</div>
</section>
<section id="pipe" class="slide level2">
<h2>Pipe <code>%&gt;%</code></h2>
<p>І тут я одразу хочу познайомити вас з альтернативним варіантом запису коду в синтаксисі tidyverse. Справа в тому, що якщо послідовно використовувати низку різноманітних функцій, то читаймість такого коду стає дуже низькою. Покажу на прикладі:</p>
<ol type="1">
<li><p>До кожного значення вектора від 1 до 10 з кроком 1 розрахуємо сінус.</p></li>
<li><p>З отриманого на першому кроці візьмемо абсолютні значення.</p></li>
<li><p>З отриманого результату на 2 кроці візьмемо корінь квадратний</p></li>
<li><p>Відсортуємо результат.</p></li>
</ol>
</section>
<section id="pipe-1" class="slide level2">
<h2>Pipe <code>%&gt;%</code></h2>
<p>В класичному вигляді все виглядає наступним чином:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a><span class="fu">sort</span>(<span class="fu">sqrt</span>(<span class="fu">abs</span>(<span class="fu">sin</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">10</span>))))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.3756594 0.5285977 0.6419646 0.7375779 0.8105471 0.8699440 0.9173173
 [8] 0.9535709 0.9792468 0.9946649</code></pre>
</div>
</div>
<p>Погодьтесь, що розібрати такий код досить складно. Тому в діалекті tidyverse використовуються пайпи, <code>%&gt;%</code>, (pipe) — вони передають результат попереднього розрахунку першим аргументов наступної функції. Таким чином попередній код можна переписати наступним чином:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a><span class="dv">1</span><span class="sc">:</span><span class="dv">10</span> <span class="sc">%&gt;%</span> </span>
<span id="cb19-2"><a href="#cb19-2"></a>  <span class="fu">sin</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb19-3"><a href="#cb19-3"></a>  <span class="fu">abs</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb19-4"><a href="#cb19-4"></a>  <span class="fu">sqrt</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb19-5"><a href="#cb19-5"></a>  <span class="fu">sort</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] 0.3756594 0.5285977 0.6419646 0.7375779 0.8105471 0.8699440 0.9173173
 [8] 0.9535709 0.9792468 0.9946649</code></pre>
</div>
</div>
<p>Погодьтесь, що такий код читається значно легше. Для виклику оператора <code>%&gt;%</code> в RStudio використовується комбінація клавіш CTRL + SHIFT + M для Windows і CMD + SHIFT + M для Mac.</p>
</section>
<section id="pipe-2" class="slide level2 smaller">
<h2>Pipe <code>%&gt;%</code></h2>
<p>Тож, якщо повернутися до фільтрації, код можна переписати:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a><span class="co"># Попередній варіант</span></span>
<span id="cb21-2"><a href="#cb21-2"></a><span class="fu">filter</span>(gapminder, country <span class="sc">==</span> <span class="st">"Ireland"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 x 6
   country continent  year lifeExp     pop gdpPercap
   &lt;fct&gt;   &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;     &lt;dbl&gt;
 1 Ireland Europe     1952    66.9 2952156     5210.
 2 Ireland Europe     1957    68.9 2878220     5599.
 3 Ireland Europe     1962    70.3 2830000     6632.
 4 Ireland Europe     1967    71.1 2900100     7656.
 5 Ireland Europe     1972    71.3 3024400     9531.
 6 Ireland Europe     1977    72.0 3271900    11151.
 7 Ireland Europe     1982    73.1 3480000    12618.
 8 Ireland Europe     1987    74.4 3539900    13873.
 9 Ireland Europe     1992    75.5 3557761    17559.
10 Ireland Europe     1997    76.1 3667233    24522.
11 Ireland Europe     2002    77.8 3879155    34077.
12 Ireland Europe     2007    78.9 4109086    40676.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a><span class="co"># З використанням %&gt;%</span></span>
<span id="cb23-2"><a href="#cb23-2"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb23-3"><a href="#cb23-3"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">"Ireland"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 x 6
   country continent  year lifeExp     pop gdpPercap
   &lt;fct&gt;   &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;     &lt;dbl&gt;
 1 Ireland Europe     1952    66.9 2952156     5210.
 2 Ireland Europe     1957    68.9 2878220     5599.
 3 Ireland Europe     1962    70.3 2830000     6632.
 4 Ireland Europe     1967    71.1 2900100     7656.
 5 Ireland Europe     1972    71.3 3024400     9531.
 6 Ireland Europe     1977    72.0 3271900    11151.
 7 Ireland Europe     1982    73.1 3480000    12618.
 8 Ireland Europe     1987    74.4 3539900    13873.
 9 Ireland Europe     1992    75.5 3557761    17559.
10 Ireland Europe     1997    76.1 3667233    24522.
11 Ireland Europe     2002    77.8 3879155    34077.
12 Ireland Europe     2007    78.9 4109086    40676.</code></pre>
</div>
</div>
</section>
<section id="filter-1" class="slide level2">
<h2><code>filter()</code></h2>
<p>Розберемо ще приклади фільтрації даних. Відберемо дані Ірландії та Іспанії за 2007 рік:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb25-2"><a href="#cb25-2"></a>  <span class="fu">filter</span>(country <span class="sc">==</span> <span class="st">"Ireland"</span> <span class="sc">|</span> country <span class="sc">==</span> <span class="st">"Spain"</span>,</span>
<span id="cb25-3"><a href="#cb25-3"></a>         year <span class="sc">==</span> <span class="dv">2007</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 x 6
  country continent  year lifeExp      pop gdpPercap
  &lt;fct&gt;   &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
1 Ireland Europe     2007    78.9  4109086    40676.
2 Spain   Europe     2007    80.9 40448191    28821.</code></pre>
</div>
</div>
</section>
<section id="filter-2" class="slide level2">
<h2><code>filter()</code></h2>
<p>А тепер припустимо, що нам потрібно відібрати інформацію не по двом, а по низці країн. Переліковувати їх всіх через <code>country == "Назва_країни"</code> буде дуже довго і не зручно. В таких випадках зручно використовувати оператор <code>%in%</code>. Давайте відберемо інформацію по Ірландії, Іспанії, Норвегії та Польщі за 2007 рік:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb27-2"><a href="#cb27-2"></a>  <span class="fu">filter</span>(country <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Ireland"</span>, <span class="st">"Spain"</span>, <span class="st">"Norway"</span>, <span class="st">"Poland"</span>),</span>
<span id="cb27-3"><a href="#cb27-3"></a>         year <span class="sc">==</span> <span class="dv">2007</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 4 x 6
  country continent  year lifeExp      pop gdpPercap
  &lt;fct&gt;   &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
1 Ireland Europe     2007    78.9  4109086    40676.
2 Norway  Europe     2007    80.2  4627926    49357.
3 Poland  Europe     2007    75.6 38518241    15390.
4 Spain   Europe     2007    80.9 40448191    28821.</code></pre>
</div>
</div>
</section>
<section id="slice" class="slide level2">
<h2><code>slice()</code></h2>
<p>Для отримання зрізу даних, тобто тільки певних спостережень (перші, останні тощо) використовуються варіації функції <code>slice()</code>. Перші п’ять спостережень:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb29-2"><a href="#cb29-2"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 x 6
  country     continent  year lifeExp      pop gdpPercap
  &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
1 Afghanistan Asia       1952    28.8  8425333      779.
2 Afghanistan Asia       1957    30.3  9240934      821.
3 Afghanistan Asia       1962    32.0 10267083      853.
4 Afghanistan Asia       1967    34.0 11537966      836.
5 Afghanistan Asia       1972    36.1 13079460      740.</code></pre>
</div>
</div>
<p>Перші п’ять та десяте спостереження:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb31-2"><a href="#cb31-2"></a>  <span class="fu">slice</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="dv">10</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 x 6
  country     continent  year lifeExp      pop gdpPercap
  &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
1 Afghanistan Asia       1952    28.8  8425333      779.
2 Afghanistan Asia       1957    30.3  9240934      821.
3 Afghanistan Asia       1962    32.0 10267083      853.
4 Afghanistan Asia       1967    34.0 11537966      836.
5 Afghanistan Asia       1972    36.1 13079460      740.
6 Afghanistan Asia       1997    41.8 22227415      635.</code></pre>
</div>
</div>
</section>
<section id="slice-1" class="slide level2 smaller">
<h2><code>slice()</code></h2>
<p>Всі крім перших трьох:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb33-2"><a href="#cb33-2"></a>  <span class="fu">slice</span>(<span class="sc">-</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,701 x 6
   country     continent  year lifeExp      pop gdpPercap
   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
 1 Afghanistan Asia       1967    34.0 11537966      836.
 2 Afghanistan Asia       1972    36.1 13079460      740.
 3 Afghanistan Asia       1977    38.4 14880372      786.
 4 Afghanistan Asia       1982    39.9 12881816      978.
 5 Afghanistan Asia       1987    40.8 13867957      852.
 6 Afghanistan Asia       1992    41.7 16317921      649.
 7 Afghanistan Asia       1997    41.8 22227415      635.
 8 Afghanistan Asia       2002    42.1 25268405      727.
 9 Afghanistan Asia       2007    43.8 31889923      975.
10 Albania     Europe     1952    55.2  1282697     1601.
# ... with 1,691 more rows</code></pre>
</div>
</div>
<p>Перші 15 спостережень:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb35-2"><a href="#cb35-2"></a>  <span class="fu">slice_head</span>(<span class="at">n =</span> <span class="dv">15</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15 x 6
   country     continent  year lifeExp      pop gdpPercap
   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
 1 Afghanistan Asia       1952    28.8  8425333      779.
 2 Afghanistan Asia       1957    30.3  9240934      821.
 3 Afghanistan Asia       1962    32.0 10267083      853.
 4 Afghanistan Asia       1967    34.0 11537966      836.
 5 Afghanistan Asia       1972    36.1 13079460      740.
 6 Afghanistan Asia       1977    38.4 14880372      786.
 7 Afghanistan Asia       1982    39.9 12881816      978.
 8 Afghanistan Asia       1987    40.8 13867957      852.
 9 Afghanistan Asia       1992    41.7 16317921      649.
10 Afghanistan Asia       1997    41.8 22227415      635.
11 Afghanistan Asia       2002    42.1 25268405      727.
12 Afghanistan Asia       2007    43.8 31889923      975.
13 Albania     Europe     1952    55.2  1282697     1601.
14 Albania     Europe     1957    59.3  1476505     1942.
15 Albania     Europe     1962    64.8  1728137     2313.</code></pre>
</div>
</div>
</section>
<section id="slice-2" class="slide level2 smaller">
<h2><code>slice()</code></h2>
<p>Останні 15 спостережень:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb37-2"><a href="#cb37-2"></a>  <span class="fu">slice_tail</span>(<span class="at">n =</span> <span class="dv">15</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15 x 6
   country  continent  year lifeExp      pop gdpPercap
   &lt;fct&gt;    &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
 1 Zambia   Africa     1997    40.2  9417789     1071.
 2 Zambia   Africa     2002    39.2 10595811     1072.
 3 Zambia   Africa     2007    42.4 11746035     1271.
 4 Zimbabwe Africa     1952    48.5  3080907      407.
 5 Zimbabwe Africa     1957    50.5  3646340      519.
 6 Zimbabwe Africa     1962    52.4  4277736      527.
 7 Zimbabwe Africa     1967    54.0  4995432      570.
 8 Zimbabwe Africa     1972    55.6  5861135      799.
 9 Zimbabwe Africa     1977    57.7  6642107      686.
10 Zimbabwe Africa     1982    60.4  7636524      789.
11 Zimbabwe Africa     1987    62.4  9216418      706.
12 Zimbabwe Africa     1992    60.4 10704340      693.
13 Zimbabwe Africa     1997    46.8 11404948      792.
14 Zimbabwe Africa     2002    40.0 11926563      672.
15 Zimbabwe Africa     2007    43.5 12311143      470.</code></pre>
</div>
</div>
<p>Топ-3 з найбільшим значенням очікуваної тривалості життя:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb39-2"><a href="#cb39-2"></a>  <span class="fu">slice_max</span>(lifeExp, <span class="at">n =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 x 6
  country          continent  year lifeExp       pop gdpPercap
  &lt;fct&gt;            &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;     &lt;int&gt;     &lt;dbl&gt;
1 Japan            Asia       2007    82.6 127467972    31656.
2 Hong Kong, China Asia       2007    82.2   6980412    39725.
3 Japan            Asia       2002    82   127065841    28605.</code></pre>
</div>
</div>
</section>
<section id="slice-3" class="slide level2">
<h2><code>slice()</code></h2>
<p>Топ-3 з найменшим значенням очікуваної тривалості життя:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb41-2"><a href="#cb41-2"></a>  <span class="fu">slice_min</span>(lifeExp, <span class="at">n =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 x 6
  country     continent  year lifeExp     pop gdpPercap
  &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;     &lt;dbl&gt;
1 Rwanda      Africa     1992    23.6 7290203      737.
2 Afghanistan Asia       1952    28.8 8425333      779.
3 Gambia      Africa     1952    30    284320      485.</code></pre>
</div>
</div>
<p>Проста випадкова вибірка без повернення з трьох країн:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb43-2"><a href="#cb43-2"></a>  <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 x 6
  country       continent  year lifeExp       pop gdpPercap
  &lt;fct&gt;         &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;     &lt;int&gt;     &lt;dbl&gt;
1 Zimbabwe      Africa     1972    55.6   5861135      799.
2 Australia     Oceania    1967    71.1  11872264    14526.
3 United States Americas   1972    71.3 209896000    21806.</code></pre>
</div>
</div>
</section>
<section id="slice-4" class="slide level2 smaller">
<h2><code>slice()</code></h2>
<p>Зверніть увагу, що при повторному виконанні попереднього коду ви будете отримувати кожного разу різні підвибірки. Для того щоб отримати відтворюваний результат, необхідно вказати початкове значення генератора випадкових чисел за допомогою функції <code>set.seed()</code>. Аргументом цієї функції може бути будь-яке ціле число.</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a><span class="fu">set.seed</span>(<span class="dv">2022</span>)</span>
<span id="cb45-2"><a href="#cb45-2"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb45-3"><a href="#cb45-3"></a>  <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">3</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 x 6
  country   continent  year lifeExp      pop gdpPercap
  &lt;fct&gt;     &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
1 Cambodia  Asia       2007    59.7 14131858     1714.
2 Swaziland Africa     1982    55.6   649901     3895.
3 Kenya     Africa     1982    58.8 17661452     1348.</code></pre>
</div>
</div>
<p>Для формування простої випадкової вибірки з поверненням з трьох країн, необхідно додати аргумент <code>replace = TRUE</code>:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb47-2"><a href="#cb47-2"></a>  <span class="fu">slice_sample</span>(<span class="at">n =</span> <span class="dv">3</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 x 6
  country continent  year lifeExp        pop gdpPercap
  &lt;fct&gt;   &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;      &lt;int&gt;     &lt;dbl&gt;
1 India   Asia       2007    64.7 1110396331     2452.
2 Italy   Europe     1977    73.5   56059245    14256.
3 India   Asia       1982    56.6  708000000      856.</code></pre>
</div>
</div>
</section>
<section id="arrange" class="slide level2 smaller">
<h2><code>arrange()</code></h2>
<p>Для впорядкування даних використовується функція <code>arrange()</code>. За замовчуванням сортування даних відбувається за зростанням.</p>
<p>Сортування по змінній ВВП на душу населення:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb49-2"><a href="#cb49-2"></a>  <span class="fu">arrange</span>(gdpPercap)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 x 6
   country          continent  year lifeExp      pop gdpPercap
   &lt;fct&gt;            &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
 1 Congo, Dem. Rep. Africa     2002    45.0 55379852      241.
 2 Congo, Dem. Rep. Africa     2007    46.5 64606759      278.
 3 Lesotho          Africa     1952    42.1   748747      299.
 4 Guinea-Bissau    Africa     1952    32.5   580653      300.
 5 Congo, Dem. Rep. Africa     1997    42.6 47798986      312.
 6 Eritrea          Africa     1952    35.9  1438760      329.
 7 Myanmar          Asia       1952    36.3 20092996      331 
 8 Lesotho          Africa     1957    45.0   813338      336.
 9 Burundi          Africa     1952    39.0  2445618      339.
10 Eritrea          Africa     1957    38.0  1542611      344.
# ... with 1,694 more rows</code></pre>
</div>
</div>
<p>Для того щоб сотувати дані за спаданням, використовується додаткова функція <code>desc()</code> в середині <code>arrange()</code>:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb51-2"><a href="#cb51-2"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(gdpPercap))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 x 6
   country   continent  year lifeExp     pop gdpPercap
   &lt;fct&gt;     &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;     &lt;dbl&gt;
 1 Kuwait    Asia       1957    58.0  212846   113523.
 2 Kuwait    Asia       1972    67.7  841934   109348.
 3 Kuwait    Asia       1952    55.6  160000   108382.
 4 Kuwait    Asia       1962    60.5  358266    95458.
 5 Kuwait    Asia       1967    64.6  575003    80895.
 6 Kuwait    Asia       1977    69.3 1140357    59265.
 7 Norway    Europe     2007    80.2 4627926    49357.
 8 Kuwait    Asia       2007    77.6 2505559    47307.
 9 Singapore Asia       2007    80.0 4553009    47143.
10 Norway    Europe     2002    79.0 4535591    44684.
# ... with 1,694 more rows</code></pre>
</div>
</div>
</section>
<section id="arrange-1" class="slide level2">
<h2><code>arrange()</code></h2>
<p>Якщо сортування за спаданням виконується по одній змінній, замість <code>desc()</code> можна використати знак <code>-</code>:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a><span class="co"># Але працює це тільки у випадку використання однієї змінної!</span></span>
<span id="cb53-2"><a href="#cb53-2"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb53-3"><a href="#cb53-3"></a>  <span class="fu">arrange</span>(<span class="sc">-</span>gdpPercap)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 x 6
   country   continent  year lifeExp     pop gdpPercap
   &lt;fct&gt;     &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;   &lt;int&gt;     &lt;dbl&gt;
 1 Kuwait    Asia       1957    58.0  212846   113523.
 2 Kuwait    Asia       1972    67.7  841934   109348.
 3 Kuwait    Asia       1952    55.6  160000   108382.
 4 Kuwait    Asia       1962    60.5  358266    95458.
 5 Kuwait    Asia       1967    64.6  575003    80895.
 6 Kuwait    Asia       1977    69.3 1140357    59265.
 7 Norway    Europe     2007    80.2 4627926    49357.
 8 Kuwait    Asia       2007    77.6 2505559    47307.
 9 Singapore Asia       2007    80.0 4553009    47143.
10 Norway    Europe     2002    79.0 4535591    44684.
# ... with 1,694 more rows</code></pre>
</div>
</div>
</section>
<section id="select" class="slide level2">
<h2><code>select()</code></h2>
<p>У випадках, коли змінних у данних дуже багато, є сенс відібрати тільки ті, з якими ви будете працювати. В таких випадках нам допоможе функція <code>select()</code>, хоча тільки такими задачами вона не обмежується. У нашому випадку в наборі даних лише шість змінних, що в принципі небагато, але суть функції буде зрозуміла. Відберемо, наприклад змінні по країнам та населенню:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb55-2"><a href="#cb55-2"></a>  <span class="fu">select</span>(country, pop)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 x 2
   country          pop
   &lt;fct&gt;          &lt;int&gt;
 1 Afghanistan  8425333
 2 Afghanistan  9240934
 3 Afghanistan 10267083
 4 Afghanistan 11537966
 5 Afghanistan 13079460
 6 Afghanistan 14880372
 7 Afghanistan 12881816
 8 Afghanistan 13867957
 9 Afghanistan 16317921
10 Afghanistan 22227415
# ... with 1,694 more rows</code></pre>
</div>
</div>
</section>
<section id="select-1" class="slide level2 smaller">
<h2><code>select()</code></h2>
<p>Через двокрапку можна вказати послідовність з декількох стовпчиків для відбору:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb57-2"><a href="#cb57-2"></a>  <span class="fu">select</span>(country, lifeExp<span class="sc">:</span>gdpPercap)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 x 4
   country     lifeExp      pop gdpPercap
   &lt;fct&gt;         &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
 1 Afghanistan    28.8  8425333      779.
 2 Afghanistan    30.3  9240934      821.
 3 Afghanistan    32.0 10267083      853.
 4 Afghanistan    34.0 11537966      836.
 5 Afghanistan    36.1 13079460      740.
 6 Afghanistan    38.4 14880372      786.
 7 Afghanistan    39.9 12881816      978.
 8 Afghanistan    40.8 13867957      852.
 9 Afghanistan    41.7 16317921      649.
10 Afghanistan    41.8 22227415      635.
# ... with 1,694 more rows</code></pre>
</div>
</div>
<p>Замість назв можна використовувати порядковий номер стовпчика (нагадую, що індексація в R починається з 1):</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb59-2"><a href="#cb59-2"></a>  <span class="fu">select</span>(<span class="dv">1</span>, <span class="dv">4</span><span class="sc">:</span><span class="dv">6</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 x 4
   country     lifeExp      pop gdpPercap
   &lt;fct&gt;         &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
 1 Afghanistan    28.8  8425333      779.
 2 Afghanistan    30.3  9240934      821.
 3 Afghanistan    32.0 10267083      853.
 4 Afghanistan    34.0 11537966      836.
 5 Afghanistan    36.1 13079460      740.
 6 Afghanistan    38.4 14880372      786.
 7 Afghanistan    39.9 12881816      978.
 8 Afghanistan    40.8 13867957      852.
 9 Afghanistan    41.7 16317921      649.
10 Afghanistan    41.8 22227415      635.
# ... with 1,694 more rows</code></pre>
</div>
</div>
</section>
<section id="select-2" class="slide level2 smaller">
<h2><code>select()</code></h2>
<p>Коли змінних дійсно багато, простіше вказати змінні, які хочеться викинути. Для цього використовується знак <code>-</code> (для відкидання однієї змінної) і <code>!</code> (для декількох, які необхідно помістити у вектор). Відкинемо змінну континенту:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1"></a><span class="co"># Відкидаємо одну змінну за допомогою `-`</span></span>
<span id="cb61-2"><a href="#cb61-2"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb61-3"><a href="#cb61-3"></a>  <span class="fu">select</span>(<span class="sc">-</span>continent)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 x 5
   country      year lifeExp      pop gdpPercap
   &lt;fct&gt;       &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
 1 Afghanistan  1952    28.8  8425333      779.
 2 Afghanistan  1957    30.3  9240934      821.
 3 Afghanistan  1962    32.0 10267083      853.
 4 Afghanistan  1967    34.0 11537966      836.
 5 Afghanistan  1972    36.1 13079460      740.
 6 Afghanistan  1977    38.4 14880372      786.
 7 Afghanistan  1982    39.9 12881816      978.
 8 Afghanistan  1987    40.8 13867957      852.
 9 Afghanistan  1992    41.7 16317921      649.
10 Afghanistan  1997    41.8 22227415      635.
# ... with 1,694 more rows</code></pre>
</div>
</div>
<p>Відкинемо змінну континенту та населення:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1"></a><span class="co"># Відкидаємо декілька змінних за допомогою `!`</span></span>
<span id="cb63-2"><a href="#cb63-2"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb63-3"><a href="#cb63-3"></a>  <span class="fu">select</span>(<span class="sc">!</span><span class="fu">c</span>(continent, pop))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 x 4
   country      year lifeExp gdpPercap
   &lt;fct&gt;       &lt;int&gt;   &lt;dbl&gt;     &lt;dbl&gt;
 1 Afghanistan  1952    28.8      779.
 2 Afghanistan  1957    30.3      821.
 3 Afghanistan  1962    32.0      853.
 4 Afghanistan  1967    34.0      836.
 5 Afghanistan  1972    36.1      740.
 6 Afghanistan  1977    38.4      786.
 7 Afghanistan  1982    39.9      978.
 8 Afghanistan  1987    40.8      852.
 9 Afghanistan  1992    41.7      649.
10 Afghanistan  1997    41.8      635.
# ... with 1,694 more rows</code></pre>
</div>
</div>
</section>
<section id="select-3" class="slide level2 smaller">
<h2><code>select()</code></h2>
<p>Крім того, за допомогою функцій <code>starts_with()</code>, <code>ends_with()</code>, <code>contains()</code> та <code>matches()</code> ми можемо задавати специфічні умови відбору змінних. Для відбору стовпчиків, які починаються на певний вираз використовується <code>starts_with()</code>. Відберемо змінні, які починаються на <strong><em>co</em></strong>:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb65-2"><a href="#cb65-2"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"c"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 x 2
   country     continent
   &lt;fct&gt;       &lt;fct&gt;    
 1 Afghanistan Asia     
 2 Afghanistan Asia     
 3 Afghanistan Asia     
 4 Afghanistan Asia     
 5 Afghanistan Asia     
 6 Afghanistan Asia     
 7 Afghanistan Asia     
 8 Afghanistan Asia     
 9 Afghanistan Asia     
10 Afghanistan Asia     
# ... with 1,694 more rows</code></pre>
</div>
</div>
<p>Змінні, які закінчуються на англійську літеру <strong><em>p</em></strong>:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb67-2"><a href="#cb67-2"></a>  <span class="fu">select</span>(<span class="fu">ends_with</span>(<span class="st">"p"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 x 3
   lifeExp      pop gdpPercap
     &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
 1    28.8  8425333      779.
 2    30.3  9240934      821.
 3    32.0 10267083      853.
 4    34.0 11537966      836.
 5    36.1 13079460      740.
 6    38.4 14880372      786.
 7    39.9 12881816      978.
 8    40.8 13867957      852.
 9    41.7 16317921      649.
10    41.8 22227415      635.
# ... with 1,694 more rows</code></pre>
</div>
</div>
</section>
<section id="select-4" class="slide level2 smaller">
<h2><code>select()</code></h2>
<p>Змінні, які містять англійську літеру <strong><em>x</em></strong>:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb69-2"><a href="#cb69-2"></a>  <span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">"x"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 x 1
   lifeExp
     &lt;dbl&gt;
 1    28.8
 2    30.3
 3    32.0
 4    34.0
 5    36.1
 6    38.4
 7    39.9
 8    40.8
 9    41.7
10    41.8
# ... with 1,694 more rows</code></pre>
</div>
</div>
<p>При роботі з даними часто використовуються <a href="https://en.wikipedia.org/wiki/Regular_expression">регулярні вирази</a> (<em>regular expression</em>). Це певні патерни тексту, які відповідають певній умові. Ми можемо використовувати їх при відборі змінних за допомогою функції <code>matches()</code>. Наприклад відберемо стовпчики, які в назві містять літери <strong><em>op</em></strong> або <strong><em>ap</em></strong>:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb71-2"><a href="#cb71-2"></a>  <span class="fu">select</span>(<span class="fu">matches</span>(<span class="st">"[oa]p"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 x 2
        pop gdpPercap
      &lt;int&gt;     &lt;dbl&gt;
 1  8425333      779.
 2  9240934      821.
 3 10267083      853.
 4 11537966      836.
 5 13079460      740.
 6 14880372      786.
 7 12881816      978.
 8 13867957      852.
 9 16317921      649.
10 22227415      635.
# ... with 1,694 more rows</code></pre>
</div>
</div>
</section>
<section id="select-5" class="slide level2 smaller">
<h2><code>select()</code></h2>
<p>За допомогою функції <code>where()</code> можна обирати змінні за їх типом. Наприклад відберемо факторні змінні:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1"></a><span class="co"># Зверніть увагу, що умова "is.factor" </span></span>
<span id="cb73-2"><a href="#cb73-2"></a><span class="co"># вживається без дужок в середині where()</span></span>
<span id="cb73-3"><a href="#cb73-3"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb73-4"><a href="#cb73-4"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.factor))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 x 2
   country     continent
   &lt;fct&gt;       &lt;fct&gt;    
 1 Afghanistan Asia     
 2 Afghanistan Asia     
 3 Afghanistan Asia     
 4 Afghanistan Asia     
 5 Afghanistan Asia     
 6 Afghanistan Asia     
 7 Afghanistan Asia     
 8 Afghanistan Asia     
 9 Afghanistan Asia     
10 Afghanistan Asia     
# ... with 1,694 more rows</code></pre>
</div>
</div>
<p>Або залишимо тільки числові змінні:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb75-2"><a href="#cb75-2"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 x 4
    year lifeExp      pop gdpPercap
   &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
 1  1952    28.8  8425333      779.
 2  1957    30.3  9240934      821.
 3  1962    32.0 10267083      853.
 4  1967    34.0 11537966      836.
 5  1972    36.1 13079460      740.
 6  1977    38.4 14880372      786.
 7  1982    39.9 12881816      978.
 8  1987    40.8 13867957      852.
 9  1992    41.7 16317921      649.
10  1997    41.8 22227415      635.
# ... with 1,694 more rows</code></pre>
</div>
</div>
</section>
<section id="select-6" class="slide level2">
<h2><code>select()</code></h2>
<p>Але і це ще не все: за допомогою функції <code>select()</code> та <code>everything()</code> можна змінювати позиції змінних у наборі даних. Спочатку ми вказуємо змінні, які хочемо помістити першими, після чого пишемо <code>everything()</code>. Наприклад, помістимо всі числові змінні на початку:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb77-2"><a href="#cb77-2"></a>  <span class="fu">select</span>(<span class="fu">where</span>(is.numeric), <span class="fu">everything</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 x 6
    year lifeExp      pop gdpPercap country     continent
   &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt; &lt;fct&gt;       &lt;fct&gt;    
 1  1952    28.8  8425333      779. Afghanistan Asia     
 2  1957    30.3  9240934      821. Afghanistan Asia     
 3  1962    32.0 10267083      853. Afghanistan Asia     
 4  1967    34.0 11537966      836. Afghanistan Asia     
 5  1972    36.1 13079460      740. Afghanistan Asia     
 6  1977    38.4 14880372      786. Afghanistan Asia     
 7  1982    39.9 12881816      978. Afghanistan Asia     
 8  1987    40.8 13867957      852. Afghanistan Asia     
 9  1992    41.7 16317921      649. Afghanistan Asia     
10  1997    41.8 22227415      635. Afghanistan Asia     
# ... with 1,694 more rows</code></pre>
</div>
</div>
</section>
<section id="relocate" class="slide level2">
<h2><code>relocate()</code></h2>
<p>Насправді в dplyr є окрема функція для гнучкої зміни позиції — <code>relocate()</code>. За замовчуванням вона поміщає вказані змінні на перші позиції:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb79-2"><a href="#cb79-2"></a>  <span class="fu">relocate</span>(pop)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 x 6
        pop country     continent  year lifeExp gdpPercap
      &lt;int&gt; &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;     &lt;dbl&gt;
 1  8425333 Afghanistan Asia       1952    28.8      779.
 2  9240934 Afghanistan Asia       1957    30.3      821.
 3 10267083 Afghanistan Asia       1962    32.0      853.
 4 11537966 Afghanistan Asia       1967    34.0      836.
 5 13079460 Afghanistan Asia       1972    36.1      740.
 6 14880372 Afghanistan Asia       1977    38.4      786.
 7 12881816 Afghanistan Asia       1982    39.9      978.
 8 13867957 Afghanistan Asia       1987    40.8      852.
 9 16317921 Afghanistan Asia       1992    41.7      649.
10 22227415 Afghanistan Asia       1997    41.8      635.
# ... with 1,694 more rows</code></pre>
</div>
</div>
</section>
<section id="relocate-1" class="slide level2 smaller">
<h2><code>relocate()</code></h2>
<p>У функції <code>relocate()</code> є два додаткових аргументи: <code>.before()</code> та <code>.after()</code>. Вони використовуються для вказування місця зміни позиції стовпчика:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1"></a><span class="co"># Помістимо стовпчик continent після year</span></span>
<span id="cb81-2"><a href="#cb81-2"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb81-3"><a href="#cb81-3"></a>  <span class="fu">relocate</span>(continent, <span class="at">.after =</span> year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 x 6
   country      year continent lifeExp      pop gdpPercap
   &lt;fct&gt;       &lt;int&gt; &lt;fct&gt;       &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
 1 Afghanistan  1952 Asia         28.8  8425333      779.
 2 Afghanistan  1957 Asia         30.3  9240934      821.
 3 Afghanistan  1962 Asia         32.0 10267083      853.
 4 Afghanistan  1967 Asia         34.0 11537966      836.
 5 Afghanistan  1972 Asia         36.1 13079460      740.
 6 Afghanistan  1977 Asia         38.4 14880372      786.
 7 Afghanistan  1982 Asia         39.9 12881816      978.
 8 Afghanistan  1987 Asia         40.8 13867957      852.
 9 Afghanistan  1992 Asia         41.7 16317921      649.
10 Afghanistan  1997 Asia         41.8 22227415      635.
# ... with 1,694 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1"></a><span class="co"># Помістимо стовпчик continent після year</span></span>
<span id="cb83-2"><a href="#cb83-2"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb83-3"><a href="#cb83-3"></a>  <span class="fu">relocate</span>(lifeExp, <span class="at">.before =</span> gdpPercap)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 x 6
   country     continent  year      pop lifeExp gdpPercap
   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;    &lt;int&gt;   &lt;dbl&gt;     &lt;dbl&gt;
 1 Afghanistan Asia       1952  8425333    28.8      779.
 2 Afghanistan Asia       1957  9240934    30.3      821.
 3 Afghanistan Asia       1962 10267083    32.0      853.
 4 Afghanistan Asia       1967 11537966    34.0      836.
 5 Afghanistan Asia       1972 13079460    36.1      740.
 6 Afghanistan Asia       1977 14880372    38.4      786.
 7 Afghanistan Asia       1982 12881816    39.9      978.
 8 Afghanistan Asia       1987 13867957    40.8      852.
 9 Afghanistan Asia       1992 16317921    41.7      649.
10 Afghanistan Asia       1997 22227415    41.8      635.
# ... with 1,694 more rows</code></pre>
</div>
</div>
</section>
<section id="relocate-2" class="slide level2 smaller">
<h2><code>relocate()</code></h2>
<p>Можна переміщати й одразу цілі групи:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1"></a><span class="co"># Помістимо всі цілочислові змінні після факторних</span></span>
<span id="cb85-2"><a href="#cb85-2"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb85-3"><a href="#cb85-3"></a>  <span class="fu">relocate</span>(<span class="fu">where</span>(is.integer), <span class="at">.after =</span> <span class="fu">where</span>(is.factor))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 x 6
   country     continent  year      pop lifeExp gdpPercap
   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;    &lt;int&gt;   &lt;dbl&gt;     &lt;dbl&gt;
 1 Afghanistan Asia       1952  8425333    28.8      779.
 2 Afghanistan Asia       1957  9240934    30.3      821.
 3 Afghanistan Asia       1962 10267083    32.0      853.
 4 Afghanistan Asia       1967 11537966    34.0      836.
 5 Afghanistan Asia       1972 13079460    36.1      740.
 6 Afghanistan Asia       1977 14880372    38.4      786.
 7 Afghanistan Asia       1982 12881816    39.9      978.
 8 Afghanistan Asia       1987 13867957    40.8      852.
 9 Afghanistan Asia       1992 16317921    41.7      649.
10 Afghanistan Asia       1997 22227415    41.8      635.
# ... with 1,694 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1"></a><span class="co"># Помістимо всі факторні змінні після числових</span></span>
<span id="cb87-2"><a href="#cb87-2"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb87-3"><a href="#cb87-3"></a>  <span class="fu">relocate</span>(<span class="fu">where</span>(is.numeric), <span class="at">.before =</span> <span class="fu">where</span>(is.factor))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 x 6
    year lifeExp      pop gdpPercap country     continent
   &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt; &lt;fct&gt;       &lt;fct&gt;    
 1  1952    28.8  8425333      779. Afghanistan Asia     
 2  1957    30.3  9240934      821. Afghanistan Asia     
 3  1962    32.0 10267083      853. Afghanistan Asia     
 4  1967    34.0 11537966      836. Afghanistan Asia     
 5  1972    36.1 13079460      740. Afghanistan Asia     
 6  1977    38.4 14880372      786. Afghanistan Asia     
 7  1982    39.9 12881816      978. Afghanistan Asia     
 8  1987    40.8 13867957      852. Afghanistan Asia     
 9  1992    41.7 16317921      649. Afghanistan Asia     
10  1997    41.8 22227415      635. Afghanistan Asia     
# ... with 1,694 more rows</code></pre>
</div>
</div>
</section>
<section id="rename" class="slide level2">
<h2><code>rename()</code></h2>
<p>Настав час ознайомитися, як змінювати назви стовпчиків. І в цьому нам допоможе функція <code>rename()</code>. Змінємо назву стовпчика <code>pop</code> на <code>population</code>:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1"></a><span class="co"># Спочатку вказуємо нову назву, а після стару</span></span>
<span id="cb89-2"><a href="#cb89-2"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb89-3"><a href="#cb89-3"></a>  <span class="fu">rename</span>(<span class="at">population =</span> pop)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 x 6
   country     continent  year lifeExp population gdpPercap
   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;      &lt;int&gt;     &lt;dbl&gt;
 1 Afghanistan Asia       1952    28.8    8425333      779.
 2 Afghanistan Asia       1957    30.3    9240934      821.
 3 Afghanistan Asia       1962    32.0   10267083      853.
 4 Afghanistan Asia       1967    34.0   11537966      836.
 5 Afghanistan Asia       1972    36.1   13079460      740.
 6 Afghanistan Asia       1977    38.4   14880372      786.
 7 Afghanistan Asia       1982    39.9   12881816      978.
 8 Afghanistan Asia       1987    40.8   13867957      852.
 9 Afghanistan Asia       1992    41.7   16317921      649.
10 Afghanistan Asia       1997    41.8   22227415      635.
# ... with 1,694 more rows</code></pre>
</div>
</div>
</section>
<section id="rename-1" class="slide level2 smaller">
<h2><code>rename()</code></h2>
<p>Можна змінювати регістр назв за допомогою функцій <code>rename_with()</code> та <code>toupper()</code> для запису великими літерами або <code>tolower()</code> для запису маленькими.</p>
<p>Запишемо всі назви великими:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb91-2"><a href="#cb91-2"></a>  <span class="fu">rename_with</span>(toupper)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 x 6
   COUNTRY     CONTINENT  YEAR LIFEEXP      POP GDPPERCAP
   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
 1 Afghanistan Asia       1952    28.8  8425333      779.
 2 Afghanistan Asia       1957    30.3  9240934      821.
 3 Afghanistan Asia       1962    32.0 10267083      853.
 4 Afghanistan Asia       1967    34.0 11537966      836.
 5 Afghanistan Asia       1972    36.1 13079460      740.
 6 Afghanistan Asia       1977    38.4 14880372      786.
 7 Afghanistan Asia       1982    39.9 12881816      978.
 8 Afghanistan Asia       1987    40.8 13867957      852.
 9 Afghanistan Asia       1992    41.7 16317921      649.
10 Afghanistan Asia       1997    41.8 22227415      635.
# ... with 1,694 more rows</code></pre>
</div>
</div>
<p>Згадуючи попередні розділи, можемо враховувати специфічні патерни:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb93"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb93-1"><a href="#cb93-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb93-2"><a href="#cb93-2"></a>  <span class="fu">rename_with</span>(toupper, <span class="fu">ends_with</span>(<span class="st">"p"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 x 6
   country     continent  year LIFEEXP      POP GDPPERCAP
   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
 1 Afghanistan Asia       1952    28.8  8425333      779.
 2 Afghanistan Asia       1957    30.3  9240934      821.
 3 Afghanistan Asia       1962    32.0 10267083      853.
 4 Afghanistan Asia       1967    34.0 11537966      836.
 5 Afghanistan Asia       1972    36.1 13079460      740.
 6 Afghanistan Asia       1977    38.4 14880372      786.
 7 Afghanistan Asia       1982    39.9 12881816      978.
 8 Afghanistan Asia       1987    40.8 13867957      852.
 9 Afghanistan Asia       1992    41.7 16317921      649.
10 Afghanistan Asia       1997    41.8 22227415      635.
# ... with 1,694 more rows</code></pre>
</div>
</div>
</section>
<section id="rename-2" class="slide level2">
<h2><code>rename()</code></h2>
<p>В роботі досить часто постає питання заміни певної частини назви. Наприклад, прибрати пробіли або замінити їх певний символ. Оскільки в нашому прикладі з назвами все більш-менш нормально, я спеціально вставлю пробіли перед великими літерами в назвах стовпчиків. В цьому випадку нам знову приходять на допомогу регулярні вирази. Результат я збережу у змінній <code>gapminder_rename</code>:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1"></a>gapminder_rename <span class="ot">&lt;-</span> gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb95-2"><a href="#cb95-2"></a>  <span class="fu">rename_with</span>(<span class="sc">~</span> <span class="fu">gsub</span>(<span class="st">"([a-z])([A-Z])"</span>,<span class="st">"</span><span class="sc">\\</span><span class="st">1 </span><span class="sc">\\</span><span class="st">2"</span>, .x))</span>
<span id="cb95-3"><a href="#cb95-3"></a>gapminder_rename</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 x 6
   country     continent  year `life Exp`      pop `gdp Percap`
   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;      &lt;dbl&gt;    &lt;int&gt;        &lt;dbl&gt;
 1 Afghanistan Asia       1952       28.8  8425333         779.
 2 Afghanistan Asia       1957       30.3  9240934         821.
 3 Afghanistan Asia       1962       32.0 10267083         853.
 4 Afghanistan Asia       1967       34.0 11537966         836.
 5 Afghanistan Asia       1972       36.1 13079460         740.
 6 Afghanistan Asia       1977       38.4 14880372         786.
 7 Afghanistan Asia       1982       39.9 12881816         978.
 8 Afghanistan Asia       1987       40.8 13867957         852.
 9 Afghanistan Asia       1992       41.7 16317921         649.
10 Afghanistan Asia       1997       41.8 22227415         635.
# ... with 1,694 more rows</code></pre>
</div>
</div>
</section>
<section id="rename-3" class="slide level2">
<h2><code>rename()</code></h2>
<p>Використання стовпчиків в назвах яких зустрічаються пробіли незручно. Тому давайте виправимо цю ситуацію. Покажу декілька варіантів. Перший варіант з використанням базової функції <code>gsub()</code>, де першим аргументом ми вказуємо спочатку що змінюємо, а другим - на що змінюємо. Замінимо пробіли в назвах стовпчиків на знак підкреслення (“_“):</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1"></a><span class="co"># Знак "тільда" (~) в R використовуються в якості формули,</span></span>
<span id="cb97-2"><a href="#cb97-2"></a><span class="co"># ми познайомимось з її використанням в наступних темах</span></span>
<span id="cb97-3"><a href="#cb97-3"></a>gapminder_rename <span class="sc">%&gt;%</span> </span>
<span id="cb97-4"><a href="#cb97-4"></a>  <span class="fu">rename_with</span>(<span class="sc">~</span> <span class="fu">gsub</span>(<span class="st">" "</span>, <span class="st">"_"</span>, .x))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 x 6
   country     continent  year life_Exp      pop gdp_Percap
   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;    &lt;dbl&gt;    &lt;int&gt;      &lt;dbl&gt;
 1 Afghanistan Asia       1952     28.8  8425333       779.
 2 Afghanistan Asia       1957     30.3  9240934       821.
 3 Afghanistan Asia       1962     32.0 10267083       853.
 4 Afghanistan Asia       1967     34.0 11537966       836.
 5 Afghanistan Asia       1972     36.1 13079460       740.
 6 Afghanistan Asia       1977     38.4 14880372       786.
 7 Afghanistan Asia       1982     39.9 12881816       978.
 8 Afghanistan Asia       1987     40.8 13867957       852.
 9 Afghanistan Asia       1992     41.7 16317921       649.
10 Afghanistan Asia       1997     41.8 22227415       635.
# ... with 1,694 more rows</code></pre>
</div>
</div>
</section>
<section id="rename-4" class="slide level2">
<h2><code>rename()</code></h2>
<p>Другий варіант варіант ближчий до синтаксису tidyverse і використовує функції з пакету <code>stringr</code>, який створений для роботи з текстом:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1"></a>gapminder_rename <span class="sc">%&gt;%</span> </span>
<span id="cb99-2"><a href="#cb99-2"></a>    <span class="fu">set_names</span>(<span class="fu">names</span>(.) <span class="sc">%&gt;%</span> <span class="fu">str_replace</span>(<span class="st">" "</span>, <span class="st">"_"</span>) <span class="sc">%&gt;%</span> <span class="fu">str_to_title</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 x 6
   Country     Continent  Year Life_exp      Pop Gdp_percap
   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;    &lt;dbl&gt;    &lt;int&gt;      &lt;dbl&gt;
 1 Afghanistan Asia       1952     28.8  8425333       779.
 2 Afghanistan Asia       1957     30.3  9240934       821.
 3 Afghanistan Asia       1962     32.0 10267083       853.
 4 Afghanistan Asia       1967     34.0 11537966       836.
 5 Afghanistan Asia       1972     36.1 13079460       740.
 6 Afghanistan Asia       1977     38.4 14880372       786.
 7 Afghanistan Asia       1982     39.9 12881816       978.
 8 Afghanistan Asia       1987     40.8 13867957       852.
 9 Afghanistan Asia       1992     41.7 16317921       649.
10 Afghanistan Asia       1997     41.8 22227415       635.
# ... with 1,694 more rows</code></pre>
</div>
</div>
</section>
<section id="mutate" class="slide level2 smaller">
<h2><code>mutate()</code></h2>
<p>Майже жодна маніпуляція з даними не обходиться без створення нових стовпчиків. Для цього використовується функція <code>mutate()</code>. За замовчуванням нова змінна записується в кінці набору даних. Давайте розрахуємо загальний ВВП кожної країни в певний момент часу. Для цього створимо нову змінну <code>gdp_billion</code> в якій перемножимо змінні “кількість населення” на “ВВП на душу населення” та поділимо на один мільярд:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb101-2"><a href="#cb101-2"></a>  <span class="fu">mutate</span>(<span class="at">gdp_billion =</span> pop <span class="sc">*</span> gdpPercap <span class="sc">/</span> <span class="dv">10</span><span class="sc">^</span><span class="dv">9</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 x 7
   country     continent  year lifeExp      pop gdpPercap gdp_billion
   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;       &lt;dbl&gt;
 1 Afghanistan Asia       1952    28.8  8425333      779.        6.57
 2 Afghanistan Asia       1957    30.3  9240934      821.        7.59
 3 Afghanistan Asia       1962    32.0 10267083      853.        8.76
 4 Afghanistan Asia       1967    34.0 11537966      836.        9.65
 5 Afghanistan Asia       1972    36.1 13079460      740.        9.68
 6 Afghanistan Asia       1977    38.4 14880372      786.       11.7 
 7 Afghanistan Asia       1982    39.9 12881816      978.       12.6 
 8 Afghanistan Asia       1987    40.8 13867957      852.       11.8 
 9 Afghanistan Asia       1992    41.7 16317921      649.       10.6 
10 Afghanistan Asia       1997    41.8 22227415      635.       14.1 
# ... with 1,694 more rows</code></pre>
</div>
</div>
</section>
<section id="mutate-1" class="slide level2 smaller">
<h2><code>mutate()</code></h2>
<p>За допомогою аргументів <code>.before</code> та <code>.after</code> можна змінювати й позицію запису нової змінної:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb103-2"><a href="#cb103-2"></a>  <span class="fu">mutate</span>(<span class="at">gdp_billion =</span> pop <span class="sc">*</span> gdpPercap <span class="sc">/</span> <span class="dv">10</span><span class="sc">^</span><span class="dv">9</span>,</span>
<span id="cb103-3"><a href="#cb103-3"></a>         <span class="at">.after =</span> year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 x 7
   country     continent  year gdp_billion lifeExp      pop gdpPercap
   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;       &lt;dbl&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
 1 Afghanistan Asia       1952        6.57    28.8  8425333      779.
 2 Afghanistan Asia       1957        7.59    30.3  9240934      821.
 3 Afghanistan Asia       1962        8.76    32.0 10267083      853.
 4 Afghanistan Asia       1967        9.65    34.0 11537966      836.
 5 Afghanistan Asia       1972        9.68    36.1 13079460      740.
 6 Afghanistan Asia       1977       11.7     38.4 14880372      786.
 7 Afghanistan Asia       1982       12.6     39.9 12881816      978.
 8 Afghanistan Asia       1987       11.8     40.8 13867957      852.
 9 Afghanistan Asia       1992       10.6     41.7 16317921      649.
10 Afghanistan Asia       1997       14.1     41.8 22227415      635.
# ... with 1,694 more rows</code></pre>
</div>
</div>
<p>Інколи необхідно свторити стовпчик індексів: порядковий номер спостереження. Для цього можна використати функцію <code>row_number()</code>:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb105-2"><a href="#cb105-2"></a>  <span class="fu">mutate</span>(<span class="at">record =</span> <span class="fu">row_number</span>(),</span>
<span id="cb105-3"><a href="#cb105-3"></a>         <span class="at">.before =</span> country)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1,704 x 7
   record country     continent  year lifeExp      pop gdpPercap
    &lt;int&gt; &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt;   &lt;dbl&gt;    &lt;int&gt;     &lt;dbl&gt;
 1      1 Afghanistan Asia       1952    28.8  8425333      779.
 2      2 Afghanistan Asia       1957    30.3  9240934      821.
 3      3 Afghanistan Asia       1962    32.0 10267083      853.
 4      4 Afghanistan Asia       1967    34.0 11537966      836.
 5      5 Afghanistan Asia       1972    36.1 13079460      740.
 6      6 Afghanistan Asia       1977    38.4 14880372      786.
 7      7 Afghanistan Asia       1982    39.9 12881816      978.
 8      8 Afghanistan Asia       1987    40.8 13867957      852.
 9      9 Afghanistan Asia       1992    41.7 16317921      649.
10     10 Afghanistan Asia       1997    41.8 22227415      635.
# ... with 1,694 more rows</code></pre>
</div>
</div>
</section>
<section id="group_by-та-summarise" class="slide level2">
<h2><code>group_by()</code> та <code>summarise()</code></h2>
<p>Ще однією популярною задачею є групування та агрегація даних: розрахунок певних статистик чи значень для окремих груп. Для цього використовується функції <code>group_by()</code> та <code>summarise()</code>, які, як правило, використовуються разом.</p>
<p>Для прикладу, розрахуємо середню (<code>mean()</code>) очікувану тривалість життя для кожного континенту. Для цього спочатку групуємо дані, а потім розраховуємо статистичний показник, який назвемо <code>mean_life_exp</code>:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb107-2"><a href="#cb107-2"></a>  <span class="fu">group_by</span>(continent) <span class="sc">%&gt;%</span> </span>
<span id="cb107-3"><a href="#cb107-3"></a>  <span class="fu">summarise</span>(<span class="at">mean_life_exp =</span> <span class="fu">mean</span>(lifeExp))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 x 2
  continent mean_life_exp
  &lt;fct&gt;             &lt;dbl&gt;
1 Africa             48.9
2 Americas           64.7
3 Asia               60.1
4 Europe             71.9
5 Oceania            74.3</code></pre>
</div>
</div>
</section>
<section id="group_by-та-summarise-1" class="slide level2">
<h2><code>group_by()</code> та <code>summarise()</code></h2>
<p>Аналогічно, ми можемо розраховувати одночасно декілька статистик. Додамо до розрахунку медіану (<code>median()</code>) та стандартне відхилення (<code>sd()</code>) очікуваної тривалості життя:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb109-2"><a href="#cb109-2"></a>  <span class="fu">group_by</span>(continent) <span class="sc">%&gt;%</span> </span>
<span id="cb109-3"><a href="#cb109-3"></a>  <span class="fu">summarise</span>(<span class="at">mean_life_exp =</span> <span class="fu">mean</span>(lifeExp),</span>
<span id="cb109-4"><a href="#cb109-4"></a>            <span class="at">md_life_exp =</span> <span class="fu">median</span>(lifeExp),</span>
<span id="cb109-5"><a href="#cb109-5"></a>            <span class="at">sd_life_exp =</span> <span class="fu">sd</span>(lifeExp))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 x 4
  continent mean_life_exp md_life_exp sd_life_exp
  &lt;fct&gt;             &lt;dbl&gt;       &lt;dbl&gt;       &lt;dbl&gt;
1 Africa             48.9        47.8        9.15
2 Americas           64.7        67.0        9.35
3 Asia               60.1        61.8       11.9 
4 Europe             71.9        72.2        5.43
5 Oceania            74.3        73.7        3.80</code></pre>
</div>
</div>
<p>Слід звернути увагу, що всі зазначені вище статистики в R чутливі до пропущених значень: у разі їх наявності, функції будуть повертати <code>NA</code> (not available). Для того, щоб при розрахунку статистик не враховувались пропущені значення необхідно додати аргумент <code>na.rm = TRUE</code>.</p>
</section>
<section id="across" class="slide level2">
<h2><code>across()</code></h2>
<p>Але що, якщо нам необхідно розрахувати, наприклад, середні значення для всіх числових стовпчиків? Звичайно можна перерахувати їх всіх вручну:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb111"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb111-1"><a href="#cb111-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb111-2"><a href="#cb111-2"></a>  <span class="fu">group_by</span>(continent) <span class="sc">%&gt;%</span> </span>
<span id="cb111-3"><a href="#cb111-3"></a>  <span class="fu">summarise</span>(<span class="at">mean_life_exp =</span> <span class="fu">mean</span>(lifeExp),</span>
<span id="cb111-4"><a href="#cb111-4"></a>            <span class="at">mean_pop =</span> <span class="fu">mean</span>(pop),</span>
<span id="cb111-5"><a href="#cb111-5"></a>            <span class="at">mean_gdpPercap =</span> <span class="fu">mean</span>(gdpPercap))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 x 4
  continent mean_life_exp  mean_pop mean_gdpPercap
  &lt;fct&gt;             &lt;dbl&gt;     &lt;dbl&gt;          &lt;dbl&gt;
1 Africa             48.9  9916003.          2194.
2 Americas           64.7 24504795.          7136.
3 Asia               60.1 77038722.          7902.
4 Europe             71.9 17169765.         14469.
5 Oceania            74.3  8874672.         18622.</code></pre>
</div>
</div>
</section>
<section id="across-1" class="slide level2">
<h2><code>across()</code></h2>
<p>Але якщо числових змінних багато — такий підхід буде неоптимальним. В таких випадках краще скористатися функцією <code>across()</code>. Продемонструю декілька варіантів.</p>
<p>Для початку розрахуємо, як в попередньому прикладі, середні значення для числових змінних:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb113"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb113-1"><a href="#cb113-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb113-2"><a href="#cb113-2"></a>  <span class="fu">select</span>(<span class="sc">-</span>year) <span class="sc">%&gt;%</span> <span class="co"># прибираємо змінну року</span></span>
<span id="cb113-3"><a href="#cb113-3"></a>  <span class="fu">group_by</span>(continent) <span class="sc">%&gt;%</span> </span>
<span id="cb113-4"><a href="#cb113-4"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.numeric), mean))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 x 4
  continent lifeExp       pop gdpPercap
  &lt;fct&gt;       &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;
1 Africa       48.9  9916003.     2194.
2 Americas     64.7 24504795.     7136.
3 Asia         60.1 77038722.     7902.
4 Europe       71.9 17169765.    14469.
5 Oceania      74.3  8874672.    18622.</code></pre>
</div>
</div>
</section>
<section id="across-2" class="slide level2">
<h2><code>across()</code></h2>
<p>Якщо уважно придивитися до результатів, то видно, що результати розрахунку повертаються з тими ж названими, як в оригінальному наборі даних. Якщо показати такий розрахунок третій стороні - можуть виникнути проблеми сприйняття. Як бути? Насправді функція <code>across()</code> досить гнучка і розробники передбачили такий варіант. Для цього нам знадобиться аргумент <code>.names</code>, де ми вкажемо правило запису назв результуючих змінних:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb115"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb115-1"><a href="#cb115-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb115-2"><a href="#cb115-2"></a>  <span class="fu">group_by</span>(continent) <span class="sc">%&gt;%</span> </span>
<span id="cb115-3"><a href="#cb115-3"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(lifeExp<span class="sc">:</span>gdpPercap,</span>
<span id="cb115-4"><a href="#cb115-4"></a>                   mean,</span>
<span id="cb115-5"><a href="#cb115-5"></a>                   <span class="at">.names =</span> <span class="st">"mean_{.col}"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 x 4
  continent mean_lifeExp  mean_pop mean_gdpPercap
  &lt;fct&gt;            &lt;dbl&gt;     &lt;dbl&gt;          &lt;dbl&gt;
1 Africa            48.9  9916003.          2194.
2 Americas          64.7 24504795.          7136.
3 Asia              60.1 77038722.          7902.
4 Europe            71.9 17169765.         14469.
5 Oceania           74.3  8874672.         18622.</code></pre>
</div>
</div>
</section>
<section id="across-3" class="slide level2">
<h2><code>across()</code></h2>
<p>І навіть розрахунки декількох різних статистик теж можливий. Для цього їх перелік необхідно записати списоком в аргументів функції <code>across()</code>:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb117"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb117-1"><a href="#cb117-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb117-2"><a href="#cb117-2"></a>  <span class="fu">group_by</span>(continent) <span class="sc">%&gt;%</span> </span>
<span id="cb117-3"><a href="#cb117-3"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(lifeExp<span class="sc">:</span>gdpPercap,</span>
<span id="cb117-4"><a href="#cb117-4"></a>                   <span class="fu">list</span>(<span class="at">avg =</span> mean, <span class="at">stdev =</span> sd, <span class="at">md =</span> median),</span>
<span id="cb117-5"><a href="#cb117-5"></a>                   <span class="at">.names =</span> <span class="st">"{.fn}_{.col}"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 x 10
  conti~1 avg_l~2 stdev~3 md_li~4 avg_pop stdev~5 md_pop avg_g~6 stdev~7 md_gd~8
  &lt;fct&gt;     &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
1 Africa     48.9    9.15    47.8  9.92e6  1.55e7 4.58e6   2194.   2828.   1192.
2 Americ~    64.7    9.35    67.0  2.45e7  5.10e7 6.23e6   7136.   6397.   5466.
3 Asia       60.1   11.9     61.8  7.70e7  2.07e8 1.45e7   7902.  14045.   2647.
4 Europe     71.9    5.43    72.2  1.72e7  2.05e7 8.55e6  14469.   9355.  12082.
5 Oceania    74.3    3.80    73.7  8.87e6  6.51e6 6.40e6  18622.   6359.  17983.
# ... with abbreviated variable names 1: continent, 2: avg_lifeExp,
#   3: stdev_lifeExp, 4: md_lifeExp, 5: stdev_pop, 6: avg_gdpPercap,
#   7: stdev_gdpPercap, 8: md_gdpPercap</code></pre>
</div>
</div>
</section>
<section id="count" class="slide level2">
<h2><code>count()</code></h2>
<p>Якщо нам необхідно порахувати кількість значень в групі, то це можна зробити за допомогою <code>group_by()</code> та <code>summarise()</code>. Підрахуємо кількість країн на кожному континенті у наборі даних. Оскільки для кожної країни є 12 спостережень (з 1952 по 2007 рік кожні 5 років), необхідно враховувати тільки унікальні значення - для таких випадків є функція <code>distinct()</code>:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb119-2"><a href="#cb119-2"></a>  <span class="fu">group_by</span>(continent) <span class="sc">%&gt;%</span> </span>
<span id="cb119-3"><a href="#cb119-3"></a>  <span class="fu">distinct</span>(country) <span class="sc">%&gt;%</span> <span class="co"># унікальні значення</span></span>
<span id="cb119-4"><a href="#cb119-4"></a>  <span class="fu">summarise</span>(<span class="at">n =</span> <span class="fu">n</span>())</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 x 2
  continent     n
  &lt;fct&gt;     &lt;int&gt;
1 Africa       52
2 Americas     25
3 Asia         33
4 Europe       30
5 Oceania       2</code></pre>
</div>
</div>
</section>
<section id="count-1" class="slide level2">
<h2><code>count()</code></h2>
<p>Але є простіший варіант - через функцію <code>count()</code>:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb121-2"><a href="#cb121-2"></a>  <span class="fu">count</span>(continent) <span class="sc">%&gt;%</span> </span>
<span id="cb121-3"><a href="#cb121-3"></a>  <span class="fu">mutate</span>(<span class="at">n =</span> n <span class="sc">/</span> <span class="dv">12</span>) <span class="co"># поправка на к-ть років</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5 x 2
  continent     n
  &lt;fct&gt;     &lt;dbl&gt;
1 Africa       52
2 Americas     25
3 Asia         33
4 Europe       30
5 Oceania       2</code></pre>
</div>
</div>
</section>
<section id="case_when" class="slide level2 smaller">
<h2><code>case_when()</code></h2>
<p>Яка маніпуляція з даними обходиться без конструкції “if - else”? В базовому синтаксисі R є функція <code>ifelse()</code> але я пропоную користуватися векторизованим варіантом з dplyr <code>case_when()</code>. Для прикладу давайте створимо нову номінативну змінну, яка буде оцінювати середню очікувану тривалість життя в форматі “низька-середня-висока”:</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb123-2"><a href="#cb123-2"></a>  <span class="fu">group_by</span>(country) <span class="sc">%&gt;%</span> </span>
<span id="cb123-3"><a href="#cb123-3"></a>  <span class="fu">summarise</span>(<span class="at">mean_life_exp =</span> <span class="fu">mean</span>(lifeExp)) <span class="sc">%&gt;%</span> </span>
<span id="cb123-4"><a href="#cb123-4"></a>  <span class="fu">mutate</span>(</span>
<span id="cb123-5"><a href="#cb123-5"></a>    <span class="at">bin_life =</span> <span class="fu">case_when</span>(</span>
<span id="cb123-6"><a href="#cb123-6"></a>      mean_life_exp <span class="sc">&gt;</span> <span class="dv">70</span> <span class="sc">~</span> <span class="st">"hight"</span>, <span class="co"># умова 1</span></span>
<span id="cb123-7"><a href="#cb123-7"></a>      mean_life_exp <span class="sc">&gt;</span> <span class="dv">50</span> <span class="sc">&amp;</span> mean_life_exp <span class="sc">&lt;=</span> <span class="dv">70</span> <span class="sc">~</span> <span class="st">"medium"</span>, <span class="co"># умова 2</span></span>
<span id="cb123-8"><a href="#cb123-8"></a>      <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"low"</span> <span class="co"># для всіх інших випадків</span></span>
<span id="cb123-9"><a href="#cb123-9"></a>    )</span>
<span id="cb123-10"><a href="#cb123-10"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 142 x 3
   country     mean_life_exp bin_life
   &lt;fct&gt;               &lt;dbl&gt; &lt;chr&gt;   
 1 Afghanistan          37.5 low     
 2 Albania              68.4 medium  
 3 Algeria              59.0 medium  
 4 Angola               37.9 low     
 5 Argentina            69.1 medium  
 6 Australia            74.7 hight   
 7 Austria              73.1 hight   
 8 Bahrain              65.6 medium  
 9 Bangladesh           49.8 low     
10 Belgium              73.6 hight   
# ... with 132 more rows</code></pre>
</div>
</div>
</section>
<section id="обертання-даних-pivot" class="slide level2 smaller">
<h2>Обертання даних: <code>pivot()</code></h2>
<p>Бувають випадки, коли дані приходять в “неохайному”, незручному форматі:</p>
<ul>
<li><p>одна змінна розташована у декількох стовпчиках.</p></li>
<li><p>одне спостереження може бути розкидане по кільком рядкам.</p></li>
</ul>
<p>Типовим прикладом таких даних можуть бути дані Всесвітнього банку. Давайте завантажимо їх і подивимось, як привести їх до “охайних”. В таких випадках нам допоможуть функції <code>pivot_longer()</code> та <code>pivot_wider()</code> з пакету <code>tidyr</code> (частина tidyverse).</p>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb125"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb125-1"><a href="#cb125-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb125-2"><a href="#cb125-2"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> lifeExp<span class="sc">:</span>gdpPercap,</span>
<span id="cb125-3"><a href="#cb125-3"></a>               <span class="at">names_to =</span> <span class="st">"var_name"</span>,</span>
<span id="cb125-4"><a href="#cb125-4"></a>               <span class="at">values_to =</span> <span class="st">"value"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 5,112 x 5
   country     continent  year var_name       value
   &lt;fct&gt;       &lt;fct&gt;     &lt;int&gt; &lt;chr&gt;          &lt;dbl&gt;
 1 Afghanistan Asia       1952 lifeExp         28.8
 2 Afghanistan Asia       1952 pop        8425333  
 3 Afghanistan Asia       1952 gdpPercap      779. 
 4 Afghanistan Asia       1957 lifeExp         30.3
 5 Afghanistan Asia       1957 pop        9240934  
 6 Afghanistan Asia       1957 gdpPercap      821. 
 7 Afghanistan Asia       1962 lifeExp         32.0
 8 Afghanistan Asia       1962 pop       10267083  
 9 Afghanistan Asia       1962 gdpPercap      853. 
10 Afghanistan Asia       1967 lifeExp         34.0
# ... with 5,102 more rows</code></pre>
</div>
</div>
</section>
<section id="обертання-даних-pivot-1" class="slide level2">
<h2>Обертання даних: <code>pivot()</code></h2>
<div class="cell light-mode">
<div class="sourceCode cell-code" id="cb127"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb127-1"><a href="#cb127-1"></a>gapminder <span class="sc">%&gt;%</span> </span>
<span id="cb127-2"><a href="#cb127-2"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> year,</span>
<span id="cb127-3"><a href="#cb127-3"></a>              <span class="at">values_from =</span> <span class="fu">c</span>(lifeExp<span class="sc">:</span>gdpPercap))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 142 x 38
   country     continent lifeE~1 lifeE~2 lifeE~3 lifeE~4 lifeE~5 lifeE~6 lifeE~7
   &lt;fct&gt;       &lt;fct&gt;       &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;
 1 Afghanistan Asia         28.8    30.3    32.0    34.0    36.1    38.4    39.9
 2 Albania     Europe       55.2    59.3    64.8    66.2    67.7    68.9    70.4
 3 Algeria     Africa       43.1    45.7    48.3    51.4    54.5    58.0    61.4
 4 Angola      Africa       30.0    32.0    34      36.0    37.9    39.5    39.9
 5 Argentina   Americas     62.5    64.4    65.1    65.6    67.1    68.5    69.9
 6 Australia   Oceania      69.1    70.3    70.9    71.1    71.9    73.5    74.7
 7 Austria     Europe       66.8    67.5    69.5    70.1    70.6    72.2    73.2
 8 Bahrain     Asia         50.9    53.8    56.9    59.9    63.3    65.6    69.1
 9 Bangladesh  Asia         37.5    39.3    41.2    43.5    45.3    46.9    50.0
10 Belgium     Europe       68      69.2    70.2    70.9    71.4    72.8    73.9
# ... with 132 more rows, 29 more variables: lifeExp_1987 &lt;dbl&gt;,
#   lifeExp_1992 &lt;dbl&gt;, lifeExp_1997 &lt;dbl&gt;, lifeExp_2002 &lt;dbl&gt;,
#   lifeExp_2007 &lt;dbl&gt;, pop_1952 &lt;int&gt;, pop_1957 &lt;int&gt;, pop_1962 &lt;int&gt;,
#   pop_1967 &lt;int&gt;, pop_1972 &lt;int&gt;, pop_1977 &lt;int&gt;, pop_1982 &lt;int&gt;,
#   pop_1987 &lt;int&gt;, pop_1992 &lt;int&gt;, pop_1997 &lt;int&gt;, pop_2002 &lt;int&gt;,
#   pop_2007 &lt;int&gt;, gdpPercap_1952 &lt;dbl&gt;, gdpPercap_1957 &lt;dbl&gt;,
#   gdpPercap_1962 &lt;dbl&gt;, gdpPercap_1967 &lt;dbl&gt;, gdpPercap_1972 &lt;dbl&gt;, ...</code></pre>
</div>
</div>
</section></section>
<section id="дякую-за-увагу" class="title-slide slide level1 unnumbered unlisted center">
<h1>Дякую за увагу!</h1>
<p><br> <br></p>
<p><svg aria-hidden="true" role="img" viewbox="0 0 512 512" style="height:1em;width:1em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M464 64C490.5 64 512 85.49 512 112C512 127.1 504.9 141.3 492.8 150.4L275.2 313.6C263.8 322.1 248.2 322.1 236.8 313.6L19.2 150.4C7.113 141.3 0 127.1 0 112C0 85.49 21.49 64 48 64H464zM217.6 339.2C240.4 356.3 271.6 356.3 294.4 339.2L512 176V384C512 419.3 483.3 448 448 448H64C28.65 448 0 419.3 0 384V176L217.6 339.2z"></path></svg> ihor.miroshnychenko@kneu.ua</p>
<p><svg aria-hidden="true" role="img" viewbox="0 0 496 512" style="height:1em;width:0.97em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M248 8C111 8 0 119 0 256S111 504 248 504 496 392.1 496 256 384.1 8 248 8zM362.1 176.7c-3.732 39.22-19.88 134.4-28.1 178.3-3.476 18.58-10.32 24.82-16.95 25.42-14.4 1.326-25.34-9.517-39.29-18.66-21.83-14.31-34.16-23.22-55.35-37.18-24.49-16.14-8.612-25 5.342-39.5 3.652-3.793 67.11-61.51 68.33-66.75 .153-.655 .3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283 .746-104.6 69.14-14.85 10.19-26.89 9.934c-8.855-.191-25.89-5.006-38.55-9.123-15.53-5.048-27.88-7.717-26.8-16.29q.84-6.7 18.45-13.7 108.4-47.25 144.6-62.3c68.87-28.65 83.18-33.62 92.51-33.79 2.052-.034 6.639 .474 9.61 2.885a10.45 10.45 0 0 1 3.53 6.716A43.76 43.76 0 0 1 362.1 176.7z"></path></svg> <a href="https://t.me/araprof">Telegram</a></p>
<p><svg aria-hidden="true" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M549.7 124.1c-6.281-23.65-24.79-42.28-48.28-48.6C458.8 64 288 64 288 64S117.2 64 74.63 75.49c-23.5 6.322-42 24.95-48.28 48.6-11.41 42.87-11.41 132.3-11.41 132.3s0 89.44 11.41 132.3c6.281 23.65 24.79 41.5 48.28 47.82C117.2 448 288 448 288 448s170.8 0 213.4-11.49c23.5-6.321 42-24.17 48.28-47.82 11.41-42.87 11.41-132.3 11.41-132.3s0-89.44-11.41-132.3zm-317.5 213.5V175.2l142.7 81.21-142.7 81.2z"></path></svg> <a href="https://www.youtube.com/channel/UCBXWO8dwwFFXzcOrrvpCp7w/videos">Youtube</a></p>
<p><svg aria-hidden="true" role="img" viewbox="0 0 576 512" style="height:1em;width:1.12em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M575.8 255.5C575.8 273.5 560.8 287.6 543.8 287.6H511.8L512.5 447.7C512.5 450.5 512.3 453.1 512 455.8V472C512 494.1 494.1 512 472 512H456C454.9 512 453.8 511.1 452.7 511.9C451.3 511.1 449.9 512 448.5 512H392C369.9 512 352 494.1 352 472V384C352 366.3 337.7 352 320 352H256C238.3 352 224 366.3 224 384V472C224 494.1 206.1 512 184 512H128.1C126.6 512 125.1 511.9 123.6 511.8C122.4 511.9 121.2 512 120 512H104C81.91 512 64 494.1 64 472V360C64 359.1 64.03 358.1 64.09 357.2V287.6H32.05C14.02 287.6 0 273.5 0 255.5C0 246.5 3.004 238.5 10.01 231.5L266.4 8.016C273.4 1.002 281.4 0 288.4 0C295.4 0 303.4 2.004 309.5 7.014L564.8 231.5C572.8 238.5 576.9 246.5 575.8 255.5L575.8 255.5z"></path></svg> <a href="https://aranaur.rbind.io">aranaur.rbind.io</a></p>
<p><svg aria-hidden="true" role="img" viewbox="0 0 496 512" style="height:1em;width:0.97em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3 .3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5 .3-6.2 2.3zm44.2-1.7c-2.9 .7-4.9 2.6-4.6 4.9 .3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3 .7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3 .3 2.9 2.3 3.9 1.6 1 3.6 .7 4.3-.7 .7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3 .7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3 .7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg> <a href="https://github.com/Aranaur">GitHub</a></p>
<p><svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg> <a href="https://www.linkedin.com/in/ihormiroshnychenko/">@ihormiroshnychenko</a></p>

<img src="img/logo.png" class="slide-logo r-stretch"><div class="footer footer-default">
<p><a href="https://t.me/araprof">Data Mirosh</a></p>
</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="02-2_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="02-2_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="02-2_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="02-2_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="02-2_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="02-2_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="02-2_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="02-2_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="02-2_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="02-2_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="02-2_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: true,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'fade',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        function fireSlideChanged(previousSlide, currentSlide) {

          // dispatch for htmlwidgets
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for reveal
        if (window.Reveal) {
          window.Reveal.addEventListener("slidechanged", function(event) {
            fireSlideChanged(event.previousSlide, event.currentSlide);
          });
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        setTimeout(function() {
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          let href = ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const cites = ref.parentNode.getAttribute('data-cites').split(' ');
        tippyHover(ref, function() {
          var popup = window.document.createElement('div');
          cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    });
    </script>
    

</body></html>